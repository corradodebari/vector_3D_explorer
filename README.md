# vector_3D_explorer
Interactive 3D vectors explorer using Oracle DB 23ai + matplotlib.

![application gui](./images/vector_3d_explorer.png)

#How it works
1. A sample of the original tables generated by Langchain Vector Store API's on Oracle DB23ai is created, in order to works on a random uniform distributed subset that could be actually shown on a chart:
   
```SQL
  CREATE TABLE {table_vect} AS
        SELECT 
            SUBSTR(RAWTOHEX(ID), 1, 16) AS ID,
            EMBEDDING,
            TEXT
        FROM (
            SELECT *
            FROM {base_table}
            ORDER BY DBMS_RANDOM.VALUE
        )
        FETCH FIRST {CFG.subset_dim} ROWS ONLY
```

2. Create a model for a dimensional reduction based on the sample table  provided:
```SQL
    DECLARE
        v_setlst DBMS_DATA_MINING.SETTING_LIST;
    BEGIN
        v_setlst('ALGO_NAME')         := 'ALGO_SINGULAR_VALUE_DECOMP';
        v_setlst('SVDS_SCORING_MODE') := 'SVDS_SCORING_PCA';
        v_setlst('FEAT_NUM_FEATURES') := '3';

        DBMS_DATA_MINING.CREATE_MODEL2(
            MODEL_NAME          => '{pca_model}',
            MINING_FUNCTION     => 'FEATURE_EXTRACTION',
            DATA_QUERY          => 'SELECT EMBEDDING FROM {table_vect}',
            CASE_ID_COLUMN_NAME => NULL,
            SET_LIST            => v_setlst
        );
    END;
```

- ALGO_SINGULAR_VALUE_DECOMP â†’ selects Singular Value Decomposition (SVD) as the algorithm.

- SVDS_SCORING_PCA â†’ tells the system to use the PCA-style scoring, meaning it reduces the data to the top singular components and interprets them as principal components (variance-maximizing directions).

ðŸ‘‰ Together: Run SVD, then use it in PCA mode to produce reduced-dimensional vectors.

3. Apply the model to the subset table to represent in 3D the original vector embeddings:
   
```SQL
CREATE OR REPLACE VIEW {view_reduced} AS
        SELECT
            ID,
            VECTOR_EMBEDDING({pca_model} USING *) AS EMBEDDING3D,
            TEXT,
            EMBEDDING
        FROM {table_vect}
```

